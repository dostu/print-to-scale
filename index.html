<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Image Resizer - Print to Scale</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div class="container">
      <h1>Image Resizer</h1>
      <p>
        Upload an image, select a part with known dimensions, and print the
        image at 1:1 scale.
      </p>

      <div class="upload-section">
        <input type="file" id="imageInput" accept="image/*" />
        <button id="uploadBtn">Upload Image</button>
      </div>

      <div class="image-container" id="imageContainer">
        <div class="image-wrapper">
          <img id="uploadedImage" alt="Uploaded image will appear here" />
          <div id="selectionBox" class="selection-box"></div>
        </div>
        <div class="instructions">
          <p>
            Click and drag on the image to select the area you know the exact
            dimensions of (e.g., watch head).
          </p>
        </div>
      </div>

      <div class="dimensions-section" id="dimensionsSection">
        <h3>Specify Real-World Dimensions of Selected Area</h3>
        <div class="dimension-mode">
          <label class="radio-label">
            <input type="radio" name="dimensionMode" value="width" checked />
            Enter Width
          </label>
          <label class="radio-label">
            <input type="radio" name="dimensionMode" value="height" /> Enter
            Height
          </label>
        </div>
        <div class="dimension-inputs">
          <div class="input-group">
            <label for="realWidth">Width (mm):</label>
            <input type="number" id="realWidth" min="1" step="0.1" />
          </div>
          <div class="input-group">
            <label for="realHeight">Height (mm):</label>
            <input type="number" id="realHeight" min="1" step="0.1" disabled />
          </div>
        </div>
        <button id="scaleBtn">Scale Image</button>
        <p class="scale-note">
          Enter just one dimension, and the other will be calculated
          automatically based on the selection's aspect ratio.
        </p>
      </div>

      <div class="result-section" id="resultSection">
        <h3>Ready to Print (1:1 Scale)</h3>
        <div class="print-container" id="printContainer">
          <img id="scaledImage" alt="Print-ready image will appear here" />
        </div>
        <div class="print-actions">
          <button id="printBtn">Print</button>
          <button id="saveBtn">Save Image</button>
          <div class="print-options">
            <label class="checkbox-label">
              <input type="checkbox" id="hideImageCheckbox" />
              Hide image (print only calibration square and instructions)
            </label>
          </div>
          <p class="print-note">
            Note: ENABLE "Fit to page" in your print dialog for this
            high-resolution image. The application will create a clean print
            version with only the image and calibration square. The calibration
            square has been adjusted to print at exactly 10mm when using "Fit to
            page". For best results with no extra space, use the "Save Image"
            button and then print the saved file.
          </p>
        </div>
      </div>
    </div>

    <script src="script.js"></script>
  </body>
</html>
